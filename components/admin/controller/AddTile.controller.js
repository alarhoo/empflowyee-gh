sap.ui.define(["com/alarhoo/empflowyee/controller/BaseController","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("com.alarhoo.empflowyee.components.admin.controller.AddTile",{onInit:function(){this._getTilesData()},_getTilesData:function(){const e=this.getOwnerComponent().getModel("launchpad").getData();const t=[];e.groups.forEach(e=>{e.tiles.forEach(o=>{t.push({...o,group:e.title})})});const o=new sap.ui.model.json.JSONModel({allTiles:t});this.getView().setModel(o)},onEditTile:function(e){const t=e.getSource().getBindingContext();const o=t.getObject();if(!this._addDialog){this._addDialog=sap.ui.xmlfragment("com.alarhoo.empflowyee.components.admin.fragments.AddEditTile",this);this.getView().addDependent(this._addDialog)}this._addDialog.setModel(new sap.ui.model.json.JSONModel({isEdit:true,tile:{...o}}));this._addDialog.open()},onAddTile:function(){if(!this._addDialog){this._addDialog=sap.ui.xmlfragment("com.alarhoo.empflowyee.components.admin.fragments.AddEditTile",this);this.getView().addDependent(this._addDialog)}this._addDialog.setModel(new sap.ui.model.json.JSONModel({isEdit:false,tile:{}}));this._addDialog.open()},onDeleteTile:function(e){const o=e.getSource().getBindingContext();const i=o.getObject();t.confirm(`Are you sure you want to delete the tile: ${i.title}?`,{onClose:e=>{if(e===t.Action.OK){const e=this.getView().getModel();const t=e.getProperty("/allTiles").filter(e=>e!==i);e.setProperty("/allTiles",t)}}})},onSaveTile:function(){const e=this._addDialog.getModel().getData();const t=this.getView().getModel();const o=t.getProperty("/allTiles");if(e.isEdit){const t=o.findIndex(t=>t.title===e.tile.title&&t.group===e.tile.group);if(t!==-1)o[t]=e.tile}else{o.push(e.tile)}t.setProperty("/allTiles",o);this._addDialog.close()},onCancelTile:function(){this._addDialog.close()}})});
//# sourceMappingURL=AddTile.controller.js.map