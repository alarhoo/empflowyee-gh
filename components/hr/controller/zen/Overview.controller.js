sap.ui.define(["../BaseController","sap/ui/model/json/JSONModel","sap/ui/unified/CalendarLegendItem","sap/ui/unified/DateTypeRange"],function(e,a,t,n){"use strict";return e.extend("com.alarhoo.empflowyee.components.hr.controller.zen.Overview",{onInit:function(){this._onRouteMatched();this._upcomingEvents()},onAfterRendering:function(){this._addLegendItems();this._highlightCalendarDates()},_onRouteMatched:function(){const e=[{name:"Sales",value:120},{name:"Marketing",value:90},{name:"Development",value:150},{name:"Support",value:70},{name:"HR",value:40}];const a=[{group:"Q1",values:[{category:"Sales",value:120},{category:"HR",value:80},{category:"IT",value:65}]},{group:"Q2",values:[{category:"Sales",value:150},{category:"HR",value:60},{category:"IT",value:95}]}];const t=[{name:"Finance",title:"Finance Dept",group:"Dept A",value:100},{name:"Sales",title:"Sales Dept",group:"Dept A",value:80},{name:"Marketing",title:"Marketing Dept",group:"Dept B",value:65},{name:"HR",title:"HR Dept",group:"Dept B",value:45},{name:"IT",title:"IT Dept",group:"Dept C",value:120},{name:"Legal",title:"Legal Dept",group:"Dept C",value:50}];const n=[{name:"Male",value:120},{name:"Female",value:80},{name:"Non-Binary",value:10},{name:"Prefer not to say",value:5}];const i={name:"CEO",children:[{name:"CTO",children:[{name:"Dev Manager"},{name:"QA Manager"}]},{name:"CFO",children:[{name:"Accountant"}]},{name:"COO"}]};const r=[{name:"Completed",value:90},{name:"Remaining",value:10}];const p=new sap.ui.model.json.JSONModel({chartData:e,groupedData:a,bubbleData:t,genderData:n,microDonutData:r,orgData:i});this.getView().setModel(p)},_upcomingEvents:function(){const e=[{emp_id:"D001",emp_name:"Michael Scott",emp_dob:"1964-03-15",emp_age:61,date:"2025-07-15T00:00:00Z",type:"Birthday"},{emp_id:"D002",emp_name:"Jim Halpert",emp_dob:"1978-10-01",emp_age:46,date:"2025-07-20T00:00:00Z",type:"Birthday"},{emp_id:"D003",emp_name:"Pam Beesly",emp_dob:"1979-03-25",emp_age:46,date:"2025-07-30T00:00:00Z",type:"Birthday"},{emp_id:"D004",emp_name:"Dwight Schrute",emp_dob:"1970-01-20",emp_age:55,date:"2025-07-04T00:00:00Z",type:"Anniversary"},{emp_id:"D005",emp_name:"Dunder Mifflin Picnic Day",emp_age:"",date:"2025-07-04T00:00:00Z",type:"Holiday"}];const t=new Date;const n=new Date;n.setDate(t.getDate()+30);const i=e.map(e=>({...e,date:new Date(e.date)}));const r=i.filter(e=>e.date>=t&&e.date<=n);this._allEvents=r;this.getView().setModel(new a({UpcomingEvents:r}),"overview");t.setHours(0,0,0,0);const p=new Date(t);p.setDate(t.getDate()+30);const o=this.getView().getModel("overview");if(o){o.setProperty("/minDate",t);o.setProperty("/maxDate",p)}},_addLegendItems:function(){const e=this.byId("legend");if(e){e.setStandardItems([]);e.removeAllItems();e.addItem(new t({text:"Birthday",type:sap.ui.unified.CalendarDayType.Type08}));e.addItem(new t({text:"Anniversary",type:sap.ui.unified.CalendarDayType.Type06}));e.addItem(new t({text:"Holiday",type:sap.ui.unified.CalendarDayType.Type01}));e.addItem(new t({text:"Multiple Events",type:sap.ui.unified.CalendarDayType.Type10}))}},_highlightCalendarDates:function(){const e=this.byId("calendar");if(!e||!this._allEvents)return;e.removeAllSpecialDates();const a={Birthday:sap.ui.unified.CalendarDayType.Type01,Anniversary:sap.ui.unified.CalendarDayType.Type02,Holiday:sap.ui.unified.CalendarDayType.Type07};const t={};this._allEvents.forEach(e=>{const a=e.date.toISOString().split("T")[0];if(!t[a]){t[a]=[]}t[a].push(e)});Object.keys(t).forEach(i=>{const r=t[i];const p=new Date(i);const o=r.map(e=>`${e.type}: ${e.emp_name||e.emp_id}`).join("\n");let s;if(r.length>1){s=sap.ui.unified.CalendarDayType.Type10}else{s=a[r[0].type]||sap.ui.unified.CalendarDayType.None}e.addSpecialDate(new n({startDate:p,type:s,tooltip:o}))})},_getLegendType:function(e){switch(e){case"Birthday":return sap.ui.unified.CalendarDayType.Type08;case"Anniversary":return sap.ui.unified.CalendarDayType.Type06;case"Holiday":return sap.ui.unified.CalendarDayType.Type01;default:return sap.ui.unified.CalendarDayType.None}},getHighlightFromType:function(e){switch(e){case"Birthday":return"Success";case"Anniversary":return"Information";case"Holiday":return"Warning";default:return"None"}},getStateFromType:function(e){switch(e){case"Birthday":return"Success";case"Anniversary":return"Information";case"Holiday":return"Warning";default:return"None"}}})});
//# sourceMappingURL=Overview.controller.js.map